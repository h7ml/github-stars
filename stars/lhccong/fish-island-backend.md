---
project: fish-island-backend
stars: 661
description: æ‘¸é±¼å²›ğŸ£åç«¯ åŸºäºçˆ¬è™« â• Netty â• SpringBoot â•Redisâ• MySQL å¼€æºğŸŒŸä¸€ç«™å¼æ‘¸é±¼ç½‘
url: https://github.com/lhccong/fish-island-backend
---

**ä¸­æ–‡** | English

æ‘¸é±¼å²›
===

_âœ¨ å¼€æºğŸŒŸä¸€ç«™å¼æ‘¸é±¼ç½‘ âœ¨_

éƒ¨ç½²æ•™ç¨‹ Â· ç›®å‰ç°çŠ¶ Â· æ„è§åé¦ˆ Â· æˆªå›¾å±•ç¤º Â· åœ¨çº¿æ¼”ç¤º Â· å¼€æºä¸è´¡çŒ® Â· ç›¸å…³é¡¹ç›® Â· èµèµæ”¯æŒ

Note

æœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä½¿ç”¨è€…å¿…é¡»åœ¨ç½‘ç«™æ ‡æ³¨ä½œè€…åç§°ä»¥åŠæŒ‡å‘æœ¬é¡¹ç›®çš„é“¾æ¥ã€‚å¦‚æœä¸æƒ³ä¿ç•™ç½²åï¼Œå¿…é¡»é¦–å…ˆè·å¾—æˆæƒã€‚ä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚

Note

åœ¨çº¿ä½“éªŒåœ°å€ğŸ”—

æœ€æ–°ç‰ˆï¼ˆåŸŸå 2025.09 è¿‡æœŸï¼‰ï¼šhttps://fish.codebug.icu/ ç¨³å®šç‰ˆï¼šhttps://yucoder.cn/

åç«¯åœ°å€ğŸŒˆï¼šhttps://github.com/lhccong/fish-island-backend

å‰ç«¯åœ°å€ğŸ–ï¸ï¼šhttps://github.com/lhccong/fish-island-frontend

Warning

ç§éƒ¨ç½²æ—¶è®°å¾—ä¿®æ”¹åç«¯æ¥å£åœ°å€è·¯å¾„æŒ‡å‘ã€‚

åŠŸèƒ½
--

1.  æ”¯æŒå¤šç§æ•°æ®æºèšåˆï¼š
    -   \[âœ…\] çŸ¥ä¹çƒ­æ¦œ
    -   \[âœ…\] å¾®åšçƒ­æ¦œ
    -   \[âœ…\] è™æ‰‘æ­¥è¡Œè¡—çƒ­æ¦œ
    -   \[âœ…\] ç¼–ç¨‹å¯¼èˆªçƒ­æ¦œ
    -   \[âœ…\] CSDN çƒ­æ¦œ
    -   \[âœ…\] æ˜é‡‘çƒ­æ¦œ
    -   \[âœ…\] B ç«™çƒ­é—¨
    -   \[âœ…\] æŠ–éŸ³çƒ­æœ
    -   \[âœ…\] ç½‘æ˜“äº‘çƒ­æ­Œæ¦œï¼ˆæ”¯æŒç½‘ç«™ç‚¹å‡»æ’­æ”¾ï¼‰
    -   \[âœ…\] ä»€ä¹ˆå€¼å¾—ä¹°çƒ­æ¦œ
    -   \[âœ…\] å¾…è¡¥å……...
2.  æ¯æ—¥å¾…åŠåŠŸèƒ½ã€‚
3.  æ‘¸é±¼èŠå¤©å®¤ï¼š
    -   \[âœ…\] å‘é€ emoji è¡¨æƒ…åŒ…
    -   \[âœ…\] å‘é€æœç‹—åœ¨çº¿è¡¨æƒ…åŒ…
    -   \[âœ…\] æ”¯æŒç½‘ç«™é“¾æ¥è§£æ
    -   \[âœ…\] æ”¯æŒ markdown æ–‡æœ¬è§£æ
    -   \[âœ…\] æ”¯æŒ AI åŠ©æ‰‹å›ç­”ï¼ˆæ¥å…¥ç¡…åŸºæµåŠ¨æ¨¡å‹ï¼‰
    -   \[âœ…\] å¤´åƒæ¡†åŠŸèƒ½
    -   \[âœ…\] ç”¨æˆ·åœ°ç†ä½ç½®æ˜¾ç¤ºåŠŸèƒ½
    -   \[âœ…\] ç”¨æˆ·ç§°å·åŠŸèƒ½
    -   \[âœ…\] äº”å­æ£‹ã€è±¡æ£‹å¯¹æˆ˜é‚€è¯·åŠŸèƒ½
    -   \[âœ…\] ç§¯åˆ†çº¢åŒ…ğŸ§§å‘é€åŠŸèƒ½
    -   \[âœ…\] æ”¯æŒç”¨æˆ· CV å‘é€å›¾ç‰‡åŠŸèƒ½
4.  æ‘¸é±¼é˜…è¯»ï¼š
    -   \[âœ…\] åœ¨çº¿æœä¹¦åŠŸèƒ½
    -   \[âœ…\] å°çª—å£è§‚çœ‹åŠŸèƒ½
    -   \[âœ…\] æ”¯æŒè‡ªå®šä¹‰ä¹¦æº
5.  å°æ¸¸æˆï¼š
    -   \[âœ…\] äº”å­æ£‹ï¼ˆäººæœº/åœ¨çº¿å¯¹æˆ˜ï¼‰
    -   \[âœ…\] è±¡æ£‹ï¼ˆäººæœº/åœ¨çº¿å¯¹æˆ˜ï¼‰
    -   \[âœ…\] 2048
6.  å·¥å…·ç®±ï¼š
    -   \[âœ…\] JSON æ ¼å¼åŒ–
    -   \[âœ…\] æ–‡æœ¬æ¯”å¯¹
    -   \[âœ…\] èšåˆç¿»è¯‘
    -   \[âœ…\] Git æäº¤æ ¼å¼ç”Ÿæˆ
    -   \[âœ…\] AI æ™ºèƒ½ä½“
    -   \[âœ…\] AI å‘¨æŠ¥åŠ©æ‰‹
7.  å¤´åƒæ¡†å…‘æ¢åŠŸèƒ½ã€‚
8.  å…¶ä»–ï¼š
    -   \[âœ…\] éŸ³ä¹æ’­æ”¾å™¨
    -   \[âœ…\] ä¸‹ç­è–ªèµ„è®¡ç®—å™¨ï¼ˆæ”¾å‡å€’è®¡æ—¶ï¼‰
    -   \[âœ…\] ä¿®æ”¹ç½‘ç«™å›¾æ ‡
    -   \[âœ…\] ç½‘ç«™æ ‡é¢˜é—ªçƒæ¶ˆæ¯æé†’
    -   \[âœ…\] æ‘¸é±¼åˆå§‹é¡µ

Star History
------------

æˆªå›¾å±•ç¤º
----

### ä¿¡æ¯èšåˆ

### æ¯æ—¥å¾…åŠ

### æ‘¸é±¼å®¤

### æ‘¸é±¼é˜…è¯»

### å°æ¸¸æˆ

-   äº”å­æ£‹

-   è±¡æ£‹

-   2048

### å·¥å…·ç®±

-   JSON æ ¼å¼åŒ–å·¥å…·

-   æ–‡æœ¬æ¯”å¯¹

### å¤´åƒæ¡†å…‘æ¢

ç›®å‰ç°çŠ¶
----

-   å„å¤§å…¬ä¼—å·è½¬å‘ã€‚
    
-   ç”¨æˆ·çªç ´ 1k çš„ä¸ªäººç½‘ç«™ã€‚
    
-   æœ€é«˜å³°å®æ—¶åœ¨çº¿äººæ•°è¾¾ 80 +ã€‚
    

éƒ¨ç½²æ•™ç¨‹
----

### åç«¯

-   æ‰§è¡Œåˆå§‹åŒ– SQL create\_table.sql
    
-   æ›´æ”¹ MySQL åœ°å€ã€Redis åœ°å€ã€Minio åœ°å€ã€é‚®ç®±å‘é€é…ç½®
    
-   Maven æ‰“åŒ…
    
-   docker éƒ¨ç½²
    
-   dockerfile æ–‡ä»¶
    
    FROM openjdk:8
    ENV workdir=/cong/fish
    COPY . ${workdir}
    WORKDIR ${workdir}
    EXPOSE 8123
    CMD \["java","-jar","-Duser.timezone=GMT+08","fish-island-backend-0.0.1-SNAPSHOT.jar"\]
    
-   æ‰“åŒ…å‘½ä»¤
    
    docker build -f ./dockerfile -t fish .
    
    å¯åŠ¨å‘½ä»¤ï¼šdocker run -d -e TZ=CST -p 8123:8123 -p 8090:8090 --name "fish" fish:latest
    
-   nginx é…ç½®
    
    server {
        listen       80;
        listen  \[::\]:80;
        server\_name  moyuapi.codebug.icu;
    
        rewrite ^(.\*) https://$server\_name$1 permanent;
    }
    
    server {
        listen       443 ssl;
        server\_name  moyuapi.codebug.icu;
    
        ssl\_certificate      /etc/nginx/ssl/cert.pem;
        ssl\_certificate\_key  /etc/nginx/ssl/key.pem;
        ssl\_session\_cache    shared:SSL:1m;
        ssl\_session\_timeout  5m;
    
        ssl\_ciphers  HIGH:!aNULL:!MD5;
        ssl\_prefer\_server\_ciphers  on;
    
        location / {
             root /usr/share/nginx/fish;
             index index.html;
    					try\_files $uri $uri/ /index.html;
        }
    
       location /fish/ {
             proxy\_pass http://fish:8123/;    
        }
    
    \# WebSocketä»£ç†é…ç½®ï¼Œå¤„ç† wss:// è¯·æ±‚
        location /ws/ {
            proxy\_pass http://fish:8090/;  # åç«¯ WebSocket æœåŠ¡åœ°å€
            proxy\_http\_version 1.1;  # ä½¿ç”¨ HTTP/1.1 åè®®ï¼ŒWebSocket éœ€è¦è¿™ä¸ªç‰ˆæœ¬
            proxy\_set\_header Upgrade $http\_upgrade;  # å¿…é¡»è®¾ç½®è¿™äº›å¤´æ¥æ”¯æŒ WebSocket åè®®çš„å‡çº§
            proxy\_set\_header Connection 'upgrade';  # ç»´æŒ WebSocket è¿æ¥
            proxy\_set\_header Host $host;  # ç¡®ä¿ Host å¤´éƒ¨ä¼ é€’æ­£ç¡®
            proxy\_cache\_bypass $http\_upgrade;  # ç¦ç”¨ç¼“å­˜
        }
    
    location /sogou-api/ {
            proxy\_pass https://pic.sogou.com/;
            proxy\_set\_header Host pic.sogou.com;
            proxy\_set\_header X-Real-IP $remote\_addr;
            proxy\_set\_header X-Forwarded-For $proxy\_add\_x\_forwarded\_for;
            proxy\_ssl\_server\_name on;
    
            # è§£å†³ CORS é—®é¢˜
            add\_header Access-Control-Allow-Origin \*;
            add\_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
            add\_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
            add\_header Access-Control-Expose-Headers "Content-Length,Content-Range";
    
            # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
            if ($request\_method = OPTIONS) {
                return 204;
            }
        }
    
    location /holiday/ {
        proxy\_pass https://date.appworlds.cn/;
        
        # ä¿æŒç›®æ ‡ API çš„ Hostï¼Œé¿å…è¿”å›é»˜è®¤ç½‘é¡µ
        proxy\_set\_header Host date.appworlds.cn;
    
        # ä¼ªè£…æˆæµè§ˆå™¨ï¼Œé˜²æ­¢æœåŠ¡å™¨æ ¹æ® User-Agent è¿”å› HTML
        proxy\_set\_header User-Agent "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36";
    
        # å¼ºåˆ¶æœåŠ¡å™¨è¿”å› JSONï¼Œè€Œä¸æ˜¯ HTML
        proxy\_set\_header Accept "application/json";
    
        # CORS å…è®¸è·¨åŸŸ
        add\_header Access-Control-Allow-Origin \*;
        add\_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
        add\_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
        add\_header Access-Control-Expose-Headers "Content-Length,Content-Range";
    
        # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
        if ($request\_method = OPTIONS) {
            return 204;
        }
    }
    
    location /img-api/ {
            proxy\_pass https://i.111666.best/;
            proxy\_set\_header Host pic.sogou.com;
            proxy\_set\_header X-Real-IP $remote\_addr;
            proxy\_set\_header X-Forwarded-For $proxy\_add\_x\_forwarded\_for;
            proxy\_ssl\_server\_name on;
    
            # è§£å†³ CORS é—®é¢˜
            add\_header Access-Control-Allow-Origin \*;
            add\_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
            add\_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
            add\_header Access-Control-Expose-Headers "Content-Length,Content-Range";
    
            # å¤„ç† OPTIONS é¢„æ£€è¯·æ±‚
            if ($request\_method = OPTIONS) {
                return 204;
            }
        }
    
        error\_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   /usr/share/nginx/html;
        }
    }
    

### å‰ç«¯

-   ä¿®æ”¹ src/constants/index.ts çš„æ¥å£åœ°å€ã€‚
-   max build --æ‰“åŒ…å‘½ä»¤ã€‚
-   éƒ¨ç½² dist æ–‡ä»¶ã€‚

å¼€æºä¸è´¡çŒ®
-----

### é¡¹ç›®æ”¯æŒè€… ğŸ”¥

### å‰ç«¯è´¡çŒ®è€… ğŸŒŸ

### åç«¯è´¡çŒ®è€… ğŸŒŸ:

### ğŸ“Œ è´¡çŒ®æ–¹å¼

å¦‚æœä½ ä¹Ÿæœ‰å¸Œæœ›èšåˆçš„æ•°æ®æºä¸å¦¨æ¥å‚åŠ ä¸€ä¸‹è´¡çŒ®ï¼Œå°†ä½ çš„æ•°æ®æºçˆ¬å–å‡ºæ¥æ”¾å…¥å…¶ä¸­ã€‚

1ï¸âƒ£ é¡µé¢å…ƒç´ æŠ“å–

ğŸ“Œ **é€‚ç”¨äº**ï¼šç›®æ ‡ç½‘ç«™æœªæä¾› APIï¼Œæ•°æ®åµŒå…¥åœ¨ HTML ç»“æ„ä¸­ã€‚

âœ… è´¡çŒ®è¦æ±‚

-   **æ¨èä½¿ç”¨**ï¼š
    -   `Jsoup`ï¼ˆJavaï¼‰
    -   `BeautifulSoup`ï¼ˆPythonï¼‰
    -   `Cheerio`ï¼ˆNode.jsï¼‰
-   **é€‰æ‹©å™¨ç²¾å‡†**ï¼šé¿å…å› é¡µé¢ç»“æ„å˜åŒ–å¯¼è‡´æŠ“å–å¤±è´¥ã€‚
-   **å‡å°‘ HTTP è¯·æ±‚**ï¼šä¼˜åŒ–æŠ“å–æ•ˆç‡ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚
-   **éµå®ˆç½‘ç«™çˆ¬å–è§„åˆ™**ï¼ˆ`robots.txt` ï¼‰ã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

Document doc = Jsoup.connect("https://example.com").get();
String title = doc.select("h1.article-title").text();

2ï¸âƒ£ é¡µé¢æ¥å£è¿”å›æ•°æ®æŠ“å–

ğŸ“Œ **é€‚ç”¨äº**ï¼šç›®æ ‡ç½‘ç«™æä¾› APIï¼Œå¯ç›´æ¥è°ƒç”¨æ¥å£è·å– JSON/XML æ•°æ®ã€‚

âœ… è´¡çŒ®è¦æ±‚

-   **æ¨èä½¿ç”¨**ï¼š
    -   `HttpClient`ï¼ˆJavaï¼‰
    -   `axios`ï¼ˆNode.jsï¼‰
    -   `requests`ï¼ˆPythonï¼‰
-   **åˆ†æ API è¯·æ±‚**ï¼šç¡®ä¿è¯·æ±‚å‚æ•°å®Œæ•´ï¼ˆ`headers`ã€`cookies`ã€`token`ï¼‰ã€‚
-   **å‡å°‘ä¸å¿…è¦çš„è¯·æ±‚**ï¼šä¼˜åŒ–è°ƒç”¨é¢‘ç‡ï¼Œé¿å…è§¦å‘åçˆ¬æœºåˆ¶ã€‚
-   **å¼‚å¸¸å¤„ç†**ï¼šç¡®ä¿ä»£ç ç¨³å®šè¿è¡Œã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

String apiUrl = "https://api.example.com/data";
String response = HttpRequest.get(apiUrl).execute().body();
JSONObject json = JSON.parseObject(response);

* * *

### ğŸ”— æ•°æ®æºæ³¨å†Œ

æ•°æ®æŠ“å–å®Œæˆåï¼Œéœ€è¦æ³¨å†Œæ•°æ®æºï¼Œä»¥ä¾¿ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®ä½¿ç”¨ã€‚

ğŸš€ æ³¨å†Œæµç¨‹

1.  **æ·»åŠ æ•°æ®æº Key**ï¼š `/src/main/java/com/cong/fishisland/model/enums/HotDataKeyEnum.java` å®šä¹‰æ–°çš„æ•°æ®æº Keyã€‚
    
2.  **æ›´æ–°æ•°æ®æºæ˜ å°„**ï¼š
    
    -   `/src/main/java/com/lhccong/fish/backend/config/DatabaseConfig.java` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æ–°çš„æ•°æ®æºé…ç½®ã€‚
3.  **åˆ›å»ºæ•°æ®æºç±»**ï¼š
    
    -   `src/main/java/com/cong/fishisland/datasource` ç›®å½•ä¸‹ï¼Œæ–°å»ºæ•°æ®æºç±»ï¼Œç»§æ‰¿ `DataSource`ï¼Œå®ç° `getHotPost` æ–¹æ³•ã€‚
4.  **å®ç°æ•°æ®è·å–é€»è¾‘**ï¼š
    
    -   æŒ‰ç…§ `HotPostDataVO` æ ¼å¼è¿”å›æ•°æ®ã€‚
    -   ä½¿ç”¨ `@Builder` æ³¨è§£ï¼Œç¡®ä¿æ•°æ®èƒ½æ­£ç¡®è§£æã€‚

ğŸ’¡ ç¤ºä¾‹ä»£ç 

HotPostDataVO.builder()
            .title(title)
            .url(url)
            .followerCount(followerCount)
            .excerpt(excerpt)
            .build();

* * *

### ğŸš€ è´¡çŒ®æµç¨‹

1.  **Fork ä»“åº“** âœ ç‚¹å‡» GitHub å³ä¸Šè§’ `Fork` æŒ‰é’®ã€‚
2.  **åˆ›å»ºåˆ†æ”¯** âœ æ¨èä½¿ç”¨æœ‰æ„ä¹‰çš„åˆ†æ”¯åï¼Œå¦‚ `feature/data-scraper-optimization`ã€‚
3.  **æäº¤ä»£ç ** âœ ç¡®ä¿ä»£ç å¯è¯»æ€§é«˜ï¼Œç¬¦åˆè§„èŒƒã€‚
4.  **æäº¤ Pull Requestï¼ˆPRï¼‰** âœ è¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹å†…å®¹ï¼Œå¹¶å…³è”ç›¸å…³ issueï¼ˆå¦‚æœ‰ï¼‰ã€‚
5.  **ç­‰å¾…å®¡æ ¸** âœ ç»´æŠ¤è€…ä¼šè¿›è¡Œä»£ç å®¡æ ¸å¹¶åˆå¹¶ã€‚

ä»¥ä¸Šè®²è§£å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç»™æˆ‘çš„é¡¹ç›®ç‚¹ä¸ªå°å°çš„ star ğŸŒŸï¼Œæˆä¸ºä¸€ä¸‹æˆ‘çš„ç²¾ç¥è‚¡ä¸œå‘¢

### ğŸ‰ æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼

æ‚¨çš„æ¯ä¸€ä»½è´¡çŒ®éƒ½è®© **fish-island** å˜å¾—æ›´å¥½ï¼ğŸ’ª
