---
project: packycode-cost
stars: 61
description: null
url: https://github.com/94mashiro/packycode-cost
---

PackyCode Cost Monitor
======================

智能化的 PackyCode 使用监控工具，支持多种账号类型的实时额度追踪。

📷 功能预览
-------

_实时监控您的 PackyCode 使用情况和预算_

✨ 功能特性
------

### 🎯 v2.1.0 最新特性 - Codex 服务支持

-   🎯 **Codex 公交车**: 支持 Codex 服务，使用 `codex.packycode.com` 域名
-   🚌 **公交车模式**: 传统共享账号，使用 `www.packycode.com` 域名
-   🚗 **滴滴车模式**: 私有账号，使用 `share.packycode.com` 域名
-   🔄 **三模式切换**: 在设置面板轻松切换三种账号类型，数据自动隔离存储
-   🛡️ **智能适配**: 系统自动匹配对应域名和 API 端点，确保认证稳定

### 📊 核心监控功能

-   📈 **实时监控**: 查看每日和每月的 API 使用情况
-   💰 **预算跟踪**: 可视化预算进度条和余额显示
-   🎯 **智能提醒**: 预算即将耗尽时的智能提醒
-   🔒 **安全认证**: 安全的 Token 管理和用户认证

### 🔔 智能通知系统

-   🛒 **购买状态监控**: 实时监控 PackyCode 购买开放状态
-   📱 **即时通知**: 购买开放时自动桌面通知提醒
-   🎨 **Opus 模型检测**: 实时监控 Claude Opus 模型开放状态
-   ⚡ **状态联动**: 多状态并行监控，一屏掌握所有信息
-   🎛️ **个性化控制**: 设置页面独立控制各类通知开关，尊重用户偏好

### 🔑 灵活认证体系

-   🔄 **双 Token 支持**: 支持 JWT 和 API Key 两种认证方式
-   ⚡ **即时刷新**: 支持手动刷新和自动后台轮询
-   🔐 **自动检测**: 创建 API Key 后自动识别和切换

### 💎 用户体验优化

-   🎨 **现代 UI**: 基于 Tailwind CSS 的现代化界面设计
-   ⚡ **轻量级**: 基于 Plasmo 框架，高性能低内存占用
-   📱 **响应式**: 400x600px 的精致弹窗设计

🚀 快速开始
-------

### 安装

#### 方式一：Chrome Web Store 安装（推荐）

-   从 Chrome Web Store 安装
-   **优点**：安装方便，自动更新，无需手动管理
-   **缺点**：更新可能不够及时，需要等待商店审核

#### 方式二：手动安装（获取最新版本）

-   从 Releases 下载最新版本
-   **优点**：可以第一时间获取最新功能和修复
-   **缺点**：需要手动下载和更新，安装步骤相对复杂

### 开发环境设置

# 克隆仓库
git clone https://github.com/94mashiro/packycode-cost.git
cd packycode-cost

# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev

开发模式下，在浏览器中加载 `build/chrome-mv3-dev` 目录。

### 构建生产版本

pnpm build

构建完成后，可以在 `build/` 目录中找到生产版本。

🛠️ 技术栈
-------

-   **框架**: Plasmo - 现代浏览器扩展开发框架
-   **UI 库**: React 18 + TypeScript
-   **样式**: Tailwind CSS
-   **状态管理**: Plasmo Storage API
-   **构建工具**: Plasmo CLI
-   **代码质量**: ESLint + Prettier

📖 使用指南
-------

### 🎯 账号类型选择 (v2.1.0+)

**首次使用建议**: 根据您的 PackyCode 账号情况选择合适的模式

#### 🚌 公交车模式（共享账号）

-   **适用场景**: 使用传统 PackyCode 账号访问 `www.packycode.com`
-   **特点**: 稳定成熟，大部分用户的首选
-   **切换方式**: 扩展设置 → 账号版本 → 公交车

#### 🚗 滴滴车模式（私有账号）

-   **适用场景**: 使用私有账号访问 `share.packycode.com`
-   **特点**: 独立环境，专用域名，更好的隐私保护
-   **切换方式**: 扩展设置 → 账号版本 → 滴滴车

#### 🎯 Codex 公交车模式（Codex 服务）

-   **适用场景**: 使用 Codex 服务访问 `codex.packycode.com`
-   **特点**: Codex 专属服务，不含 Opus 模型
-   **切换方式**: 扩展设置 → 账号版本 → Codex

> **💡 智能提示**: 扩展会自动检测您当前访问的域名，并建议最适合的账号模式

### 📱 基础功能使用

1.  **一键开始**: 安装扩展后，点击扩展图标即可开始使用
2.  **自动认证**: 扩展会根据您选择的账号类型，自动从对应网站获取登录状态
3.  **实时监控**: 数据自动更新，无需手动操作即可获得最新使用情况

### 🔔 智能监控体验 (v1.5.0+)

-   **Opus 模型状态**: 自动检测 Claude Opus 模型可用性变化
-   **购买机会提醒**: 当 PackyCode 开放购买时立即通知
-   **状态总览**: 在统一面板中查看认证、购买、Opus 三大状态
-   **桌面通知**: 重要状态变化时发送系统级通知提醒

📚 技术文档
-------

### 快速导航

-   **📖 完整文档中心** - 技术文档导航中心
-   **👨‍💻 开发者指南** - 贡献和编码规范
-   **📚 功能指南** - 版本化存储和滴滴车模式
-   **🏗️ 架构设计** - 核心系统设计文档

### 常用文档

文档

用途

读者

贡献指南

参与项目开发

新贡献者

版本化存储指南

理解双账号数据隔离

开发者

存储架构设计

深度技术设计

架构师

🤝 贡献指南
-------

我们欢迎所有形式的贡献！请查看 贡献指南 了解详细信息。

### 开发流程

1.  Fork 本仓库
2.  创建功能分支 (`git checkout -b feature/amazing-feature`)
3.  提交更改 (`git commit -m 'Add some amazing feature'`)
4.  推送到分支 (`git push origin feature/amazing-feature`)
5.  创建 Pull Request

📝 版本历史
-------

### v2.1.0 (2025-09-04) - 🎯 Codex 服务支持

#### 🚀 新增特性

-   🎯 **Codex 服务支持**: 新增对 Codex 服务的公交车版本 (`codex.packycode.com`) 的完整支持
-   🔄 **三模式切换**: 支持在公交车、滴滴车、Codex公交车三种模式间智能切换
-   🎨 **智能 UI 适配**: Codex 模式下自动隐藏 Opus 状态（Codex 无 Opus 模型）
-   📊 **独立数据隔离**: Codex 账号数据与其他模式完全独立存储

#### 🔧 技术优化

-   🔗 **API 路由适配**: Codex 模式下所有请求自动路由到 codex.packycode.com
-   🔔 **通知逻辑优化**: Codex 模式自动跳过 Opus 相关通知推送
-   🛡️ **验证器增强**: 开发工具验证器支持 Codex 域名检测

### v2.0.3 (2025-08-28) - 🔔 智能通知控制

#### 🎯 新增通知设置功能

-   🎛️ **个性化通知控制**: 在设置页面新增通知开关，用户可独立控制不同类型的推送
-   🛒 **购买通知开关**: 独立控制购买开放通知，默认开启确保不错过购买机会
-   🤖 **Opus 通知开关**: 独立控制 Opus 模型状态通知，默认开启获取最新模型信息

### v2.0.0 (2025-08-24) - 🎯 多账号生态支持

这是一个里程碑版本！我们引入了完整的多账号类型支持，让用户可以根据自己的使用场景选择最合适的账号模式。

#### 🚀 核心新特性

-   🚌 **公交车模式**: 支持传统共享账号 (`www.packycode.com`)
-   🚗 **滴滴车模式**: 支持全新私有账号 (`share.packycode.com`)
-   🔄 **智能账号切换**: 一键在不同账号类型间切换，数据完全隔离
-   🛡️ **域名自适应**: 系统自动匹配对应的域名和 API 端点

#### 💎 用户体验升级

-   📱 **直观设置面板**: 简单明了的账号类型选择界面
-   🎯 **智能引导**: 根据用户访问的域名自动推荐最适合的模式
-   📊 **数据隔离**: 不同账号类型的数据完全独立存储，互不干扰
-   ⚡ **无缝迁移**: 切换账号类型时保持用户体验的连续性

#### 🔧 稳定性改进

-   🛡️ **认证适配层**: 统一的认证逻辑，支持多域名环境
-   🔐 **API Key 自动检测**: 在滴滴车模式下完美支持 API Key 自动切换
-   📡 **智能网络处理**: 根据账号类型自动选择正确的网络配置

### v1.5.0 (2025-08-19) - Opus 模型状态监控

-   🎨 **Opus 模型检测**: 新增 Claude Opus 模型开放状态实时监控功能
-   🔔 **模型状态通知**: Opus 模型状态变化时自动推送桌面通知
-   📊 **统一状态面板**: 重新设计服务状态界面，整合认证、购买、Opus 三大状态
-   💰 **预算界面优化**: 合并日月预算展示，提升信息密度和空间利用率
-   ⚡ **UI/UX 改进**: 优化按钮设计，采用现代化链接式操作风格
-   🔧 **技术架构**: 完善轮询机制，支持多状态并行监控

### v1.4.0 (2025-08-13) - 购买状态监控

-   🛒 **购买机会提醒**: 自动监控 PackyCode 购买开放状态，不再错过购买窗口
-   🔔 **即时桌面通知**: 购买开放时立即收到通知提醒，第一时间抢购
-   📱 **统一状态面板**: 在一个界面同时查看登录状态和购买可用性
-   🔄 **手动刷新**: 随时点击刷新按钮获取最新购买状态

### v1.3.0 (2025-07-29) - 增强认证体验

-   🔑 **API Key 支持**: 支持使用长期有效的 API Key，无需频繁重新登录
-   🔄 **智能认证**: 自动选择最佳认证方式，优先使用稳定的 API Key
-   ✨ **无感切换**: 创建 API Key 后自动切换，无需手动配置
-   💡 **状态区分**: 清晰显示当前使用的认证方式和过期状态

### v1.2.0 (2025-07-09) - 界面体验升级

-   ⏰ **预算重置提醒**: 显示每日预算重置倒计时，合理规划使用时间
-   🎨 **界面重构**: 全新模块化界面设计，操作更加直观流畅
-   📍 **布局优化**: 重新安排按钮位置，提升使用便捷性
-   ⚡ **实时更新**: 数据刷新更加及时，信息始终保持最新状态

### v1.1.0 (2025-07-09) - 智能监控功能

-   🏷️ **图标徽章**: 扩展图标直接显示预算使用百分比，一目了然
-   🔄 **后台监控**: 自动后台刷新数据，无需手动操作
-   📊 **持续跟踪**: 即使不打开扩展也能持续监控使用情况

### v1.0.0 (2025-07-08) - 首个正式版本

-   💰 **预算监控**: 实时查看每日和每月 API 使用情况和余额
-   📊 **可视化展示**: 直观的进度条显示预算使用进度
-   🔒 **自动登录**: 无需手动配置，自动获取登录状态
-   🎨 **现代界面**: 简洁美观的用户界面设计

查看完整的 版本更新历史。

🐛 问题反馈
-------

如果您遇到任何问题或有功能建议，请通过以下方式联系我们：

-   提交 Issue
-   功能请求
-   Bug 报告

📄 许可证
------

本项目基于 MIT License 开源。

🔗 相关链接
-------

-   PackyCode 官网
-   Plasmo 文档
-   Chrome Extension 开发指南

💖 致谢
-----

感谢所有为这个项目做出贡献的开发者和用户！

* * *

如果这个项目对您有帮助，请给我们一个 ⭐️
